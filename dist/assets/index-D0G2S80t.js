import{b as N,r as l,u as B,o as V,d as L,e as v,f as m,g as p,h as s,i as t,j as D,w as E,k as c,l as f,s as A,v as C,t as F,F as w,m as G,n as M}from"./tailwind-HU2q0cE2.js";import{u as R,G as T}from"./global-BKHngu2I.js";import{p as z}from"./index-ChybI-F4.js";import"./portal-DG4eJIU_.js";import"./request-C0k_ht0T.js";import"./index-loe9NHZV.js";const H={style:{background:"#fff",overflow:"hidden"}},I={class:"search-bar"},U={class:"tag-list"},j={class:"tag"},$={class:"h-36 text-center loading"},q={key:0,class:"noMore"},J={__name:"index",setup(K){const g=l(""),n=B();let r=l(0);const a=l([]),i=l(!1),_=l(!1),x=R(),y=()=>{n.go(-1)},b=async o=>{try{i.value=!0,r.value=r.value+1;const e=await z({pageNum:r.value,pageSize:20,categoryId:o});a.value=[...a.value,...e.rows],(!e.rows||e.rows.length===0)&&(_.value=!0),document.title=e.rows[0].categoryName}catch(e){console.log(e)}finally{i.value=!1}},d=()=>{const o=document.documentElement,e=o.scrollHeight-o.scrollTop-o.clientHeight;x.updateScrollBottom(e),e<100&&!i.value&&b(n.currentRoute.value.params.id)};return V(()=>{b(n.currentRoute.value.params.id),window.addEventListener("scroll",d)}),L(()=>{window.removeEventListener("scroll",d)}),(o,e)=>{const S=v("ArrowLeft"),u=v("el-icon"),k=v("el-input");return p(),m(w,null,[s("section",H,[t(u,{size:"24",onClick:y,class:"allpagegoback"},{default:c(()=>[t(S)]),_:1}),e[2]||(e[2]=D('<section class="tabs" data-v-4cab7524><section class="tabs-wrapper" data-v-4cab7524><section class="tabs-items flex" data-v-4cab7524><div data-v-4cab7524>All</div><div data-v-4cab7524></div><div data-v-4cab7524></div><div data-v-4cab7524></div></section><section class="tabs-slider" data-v-4cab7524><div class="tabs-line" data-v-4cab7524></div></section></section></section>',1)),s("section",I,[t(k,{modelValue:g.value,"onUpdate:modelValue":e[0]||(e[0]=h=>g.value=h),placeholder:"Search",onFocus:e[1]||(e[1]=h=>f(n).push("/search"))},{prefix:c(()=>[t(u,null,{default:c(()=>[t(f(A))]),_:1})]),_:1},8,["modelValue"])]),E(s("section",U,[s("div",j,F(a.value.length&&a.value[0].categoryName),1)],512),[[C,a.value.length]])]),s("section",{class:"good-list overflow-y-auto",onScroll:d},[t(T,{list:a.value},null,8,["list"])],32),s("section",$,[_.value?(p(),m("div",q,"no more data")):(p(),m(w,{key:1},[t(u,{class:"mr-1 el-icon-loading"},{default:c(()=>[t(f(M))]),_:1}),e[3]||(e[3]=G(" loading "))],64))])],64)}}},Z=N(J,[["__scopeId","data-v-4cab7524"]]);export{Z as default};
